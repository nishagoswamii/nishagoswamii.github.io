import{j as z}from"./jsx-runtime.Dgvuz1aw.js";import{r as S}from"./index.Dmet8mYG.js";function A(){const m=S.useRef(null);return S.useEffect(()=>{const s=m.current;if(!s)return;const t=s.getContext("2d");if(!t)return;let a=window.innerWidth,n=window.innerHeight,r=[],f,c=0;const i={particleCount:Math.floor(a*n/12e3),connectionDistance:120,baseSpeed:.15,rangeSpeed:.3},g=()=>{a=window.innerWidth,n=window.innerHeight,s.width=a,s.height=n,i.particleCount=Math.floor(a*n/12e3),r=Array.from({length:i.particleCount}).map(()=>u(!0))},u=(y=!1)=>({x:Math.random()*a,y:y?Math.random()*n:n+20,r:Math.random()*1.5+.5,speed:i.baseSpeed+Math.random()*i.rangeSpeed,opacity:Math.random()*.5+.3,swing:Math.random()*30,swingRate:Math.random()*.01+.002,phase:Math.random()*Math.PI*2}),w=()=>{if(!t)return;t.clearRect(0,0,a,n);const x=document.documentElement.classList.contains("dark")?"255, 255, 255":"10, 10, 10";c+=.05,r.forEach((e,M)=>{e.y-=e.speed;const D=Math.sin(c*e.swingRate+e.phase)*(e.swing*.2),d=e.x+D,h=e.y;e.y<-50&&(r[M]=u()),t.beginPath(),t.arc(d,h,e.r,0,Math.PI*2),t.fillStyle=`rgba(${x}, ${e.opacity})`,t.fill();for(let l=M+1;l<r.length;l++){const o=r[l],P=Math.sin(c*o.swingRate+o.phase)*(o.swing*.2),b=o.x+P,R=o.y,v=d-b,k=h-R,E=Math.sqrt(v*v+k*k);if(E<i.connectionDistance){const j=(1-E/i.connectionDistance)*e.opacity*o.opacity;t.beginPath(),t.moveTo(d,h),t.lineTo(b,R),t.strokeStyle=`rgba(${x}, ${j*.4})`,t.lineWidth=.5,t.stroke()}}}),f=requestAnimationFrame(w)};g(),w();const p=()=>{g()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),cancelAnimationFrame(f)}},[]),z.jsx("canvas",{ref:m,className:"fixed inset-0 z-[-1] pointer-events-none bg-background transition-colors duration-300 blur-[1px]"})}export{A as GridBackground};
